<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Neural Cellular Automata Visualization with ONNX.js</title>
    
    <!-- External CSS -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Font Awesome for Icons (Removed integrity attribute) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    
    <!-- Include the ONNX Runtime Web library -->
    <script src="https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.min.js"></script>
    
    <!-- External JavaScript with defer to ensure it loads after HTML -->
    <script src="script.js" defer></script>
</head>
<body>
    <header>
        <h1>Neural Cellular Automata Inference & Visualization</h1>
    </header>
    
    <main>
        <section id="controls">
            <div class="control-group">
                <label for="steps">Number of Initial Updates:</label>
                <input type="number" id="steps" value="10" min="1" max="1000">
            </div>
            
            <div class="control-group">
                <label for="scale">Scale:</label>
                <input type="number" id="scale" value="10" min="1" max="20">
            </div>
            
            <div class="control-group">
                <label for="threshold">Active Threshold:</label>
                <input type="number" id="threshold" value="0.1" step="0.01" min="0" max="1">
            </div>
            
            <div class="control-group">
                <label for="mapping">Channel Mapping:</label>
                <select id="mapping">
                    <option value="rgba">RGBA (Channels 0-3)</option>
                    <option value="r">Red (Channel 0)</option>
                    <option value="g">Green (Channel 1)</option>
                    <option value="b">Blue (Channel 2)</option>
                    <option value="a">Alpha (Channel 3)</option>
                    <!-- Add more options if needed -->
                </select>
            </div>
            
            <div class="control-group">
                <label for="speed">Evolution Speed:</label>
                <input type="range" id="speed" min="0" max="6" step="1" value="3">
                <div class="speed-labels">
                    <span>1/10x</span>
                    <span>1/5x</span>
                    <span>1/2x</span>
                    <span>1x</span>
                    <span>2x</span>
                    <span>4x</span>
                    <span>8x</span>
                </div>
            </div>
            
            <button id="restart-button" class="icon-button" title="Restart">
                <i class="fas fa-redo"></i>
            </button>
            <button id="stop-button" class="icon-button" title="Stop" disabled>
                <i class="fas fa-stop"></i>
            </button>
        </section>
        
        <!-- Removed the output-section since statistics are moved to console -->
        
        <section id="canvas-container">
            <h2>RGBA Visualization</h2>
            <canvas id="rgba-canvas" width="64" height="64"></canvas>
        </section>
    </main>
    
    <footer>
        <p>&copy; 2024 Neural Cellular Automata Visualization</p>
    </footer>
</body>
</html>
